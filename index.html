<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BillCheck</title>
  <link rel="stylesheet" href="style.css">

  <!-- Tesseract OCR -->
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>

  <style>
    /* Smaller button override */
    .action-btn {
      padding: 0.55rem 1.1rem;
      font-size: 0.9rem;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      background: var(--primary);
      color: white;
    }

    .action-btn:disabled {
      background: #94a3b8;
      cursor: not-allowed;
    }

    .preview {
      margin-top: 1rem;
      max-width: 100%;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
    }
  </style>
</head>

<body>

<header class="topbar">
  <div class="brand">üí∞ Bill<b>Check</strong></div>
</header>


<main class="page">

  <h1 class="hero-title">
    Verify Your Bills <br>
    <span class="highlight">Instantly</span>
  </h1>

  <p class="subtitle">
    Upload your bill and verify items delivered.
  </p>

  <!-- Hidden input -->
  <input type="file" id="billImage" accept="image/*" hidden>

  <!-- Upload button -->
  <button class="action-btn" id="uploadBtn">
    üì§ Upload Bill
  </button>

  <!-- Preview -->
  <img id="preview" class="preview" hidden>

  <!-- Analyze button --><br>
  <button class="action-btn" id="processBtn" hidden style="margin-top:0.75rem;">
    üîç Analyze Bill
  </button>

</main>

<script src="ocr.js"></script>

<script>
  const fileInput = document.getElementById("billImage");
  const uploadBtn = document.getElementById("uploadBtn");
  const preview = document.getElementById("preview");
  const processBtn = document.getElementById("processBtn");

  uploadBtn.onclick = () => fileInput.click();

  fileInput.addEventListener("change", () => {
    const file = fileInput.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = () => {
      preview.src = reader.result;
      preview.hidden = false;

      uploadBtn.hidden = true;
      processBtn.hidden = false;
    };
    reader.readAsDataURL(file);
  });
</script>

</body>
</html>
